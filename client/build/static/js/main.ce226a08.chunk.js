(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{27:function(e,t,r){},48:function(e,t,r){"use strict";r.r(t);var a=r(1),s=r.n(a),n=r(22),c=r.n(n),l=(r(27),r(6)),i=r.n(l),o=r(7),d=r(3),b=r(8),j=r.n(b),u=r(2),m=r(9),p=r(0);var x=function(){var e=Object(a.useState)(""),t=Object(d.a)(e,2),r=t[0],s=t[1],n=Object(a.useRef)(),c=Object(a.useRef)(),l=Object(u.f)(),b=function(){var e=Object(o.a)(i.a.mark((function e(t){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),""!==n.current.value&&""!==c.current.value){e.next=4;break}return s("Email and password are mandatory!"),e.abrupt("return");case 4:return s(""),r={email:n.current.value,password:c.current.value},e.prev=6,e.next=9,j.a.post("".concat("https://guvi-task-session-37.herokuapp.com/api/v1/auth/login"),r);case 9:l("/urls",{replace:!0}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(6),s("User may not exist or the account has not been verified!");case 15:case"end":return e.stop()}}),e,null,[[6,12]])})));return function(t){return e.apply(this,arguments)}}();return Object(p.jsxs)("div",{className:"container d-flex justify-content-center flex-wrap flex-column",children:[Object(p.jsx)("div",{style:{border:"1px solid lightgray",padding:"1rem",margin:"2rem",borderRadius:"1rem"},children:Object(p.jsxs)("form",{className:"py-5",children:[Object(p.jsxs)("div",{className:"mb-3",children:[Object(p.jsx)("label",{htmlFor:"email",className:"form-label fw-bold",children:"Email address"}),Object(p.jsx)("input",{type:"email",className:"form-control",id:"email",ref:n})]}),Object(p.jsxs)("div",{className:"mb-3",children:[Object(p.jsx)("label",{htmlFor:"password",className:"form-label fw-bold",children:"Password"}),Object(p.jsx)("input",{type:"password",className:"form-control",id:"password",ref:c})]}),Object(p.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(p.jsxs)("div",{children:[Object(p.jsx)(m.b,{to:"/signup",children:Object(p.jsx)("button",{style:{color:"dodgerblue",fontWeight:"600",borderStyle:"none",backgroundColor:"#fff"},children:Object(p.jsx)("u",{children:"Create Account"})})}),"|",Object(p.jsx)(m.b,{to:"/forgot-password",children:Object(p.jsx)("button",{style:{color:"#f76865",fontWeight:"600",borderStyle:"none",backgroundColor:"#fff"},children:Object(p.jsx)("u",{children:"Forgot Password"})})})]}),Object(p.jsx)("button",{type:"submit",className:"btn btn-success",onClick:b,children:"Login"})]})]})}),Object(p.jsx)("div",{children:r?Object(p.jsx)("p",{className:"d-flex justify-content-center alert alert-danger",role:"alert",children:r}):null})]})};var f=function(){var e=Object(a.useState)(!1),t=Object(d.a)(e,2),r=t[0],s=t[1],n=Object(a.useState)(""),c=Object(d.a)(n,2),l=c[0],b=c[1],u=Object(a.useRef)(),m=Object(a.useRef)(),x=Object(a.useRef)(),f=function(){var e=Object(o.a)(i.a.mark((function e(t){var r,a,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),""===m.current.value||""===x.current.value?b("Username, Email and password are mandatory!"):b(""),r={name:u.current.value,email:m.current.value,password:x.current.value},e.prev=3,e.next=6,j.a.post("".concat("https://guvi-task-session-37.herokuapp.com/api/v1/auth/register"),r);case 6:a=e.sent,n={email:a.data.email,token:a.data.token,activated:a.data.activated},localStorage.setItem("url_shortner_user",JSON.stringify(n)),s(!0),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(3),b("User registration failed, try again some time later...");case 15:case"end":return e.stop()}}),e,null,[[3,12]])})));return function(t){return e.apply(this,arguments)}}();return Object(p.jsxs)("div",{className:"container d-flex justify-content-center flex-column",children:[Object(p.jsx)("div",{style:{border:"1px solid lightgray",padding:"1rem",margin:"2rem",borderRadius:"1rem",boxSizing:"border-box"},children:Object(p.jsxs)("form",{className:"py-5",children:[Object(p.jsxs)("div",{className:"mb-3",children:[Object(p.jsx)("label",{htmlFor:"name",className:"form-label fw-bold",children:"Username"}),Object(p.jsx)("input",{type:"text",className:"form-control",id:"name",ref:u})]}),Object(p.jsxs)("div",{className:"mb-3",children:[Object(p.jsx)("label",{htmlFor:"email",className:"form-label fw-bold",children:"Email address"}),Object(p.jsx)("input",{type:"email",className:"form-control",id:"email",ref:m})]}),Object(p.jsxs)("div",{className:"mb-3",children:[Object(p.jsx)("label",{htmlFor:"password",className:"form-label fw-bold",children:"Password"}),Object(p.jsx)("input",{type:"password",className:"form-control",id:"password",ref:x})]}),Object(p.jsx)("div",{className:"d-grid gap-2",children:Object(p.jsx)("button",{className:"btn btn-primary",type:"button",onClick:f,children:"Register"})})]})}),Object(p.jsx)("div",{children:l?Object(p.jsx)("p",{className:"d-flex justify-content-center alert alert-danger",role:"alert",children:"Username, Email and Password are mandatory!"}):null}),Object(p.jsx)("div",{children:r?Object(p.jsxs)("p",{className:"d-flex justify-content-center alert alert-success",role:"alert",children:["An email has been sent to ",m.current.value,", to confirm your registration!"]}):null})]})};var h=function(){var e=Object(a.useState)(""),t=Object(d.a)(e,2),r=t[0],s=t[1],n=Object(a.useRef)(),c=function(){var e=Object(o.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s(""),t.preventDefault(),!n){e.next=14;break}if(""!==n.current.value){e.next=6;break}return s("Please enter an email id!"),e.abrupt("return");case 6:return e.prev=6,e.next=9,j.a.patch("".concat("https://guvi-task-session-37.herokuapp.com/api/v1/auth/forgot-password"),{email:n.current.value});case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(6),s("User does not exist...");case 14:case"end":return e.stop()}}),e,null,[[6,11]])})));return function(t){return e.apply(this,arguments)}}();return Object(p.jsxs)("div",{className:"container",style:{border:"1px solid lightgray",marginTop:"2rem",borderRadius:"1rem"},children:[Object(p.jsxs)("form",{className:"py-5",children:[Object(p.jsxs)("div",{className:"mb-3",children:[Object(p.jsx)("label",{htmlFor:"email",className:"form-label fw-bold",children:"Email"}),Object(p.jsx)("input",{type:"text",className:"form-control",id:"email",ref:n,placeholder:"Enter email to get password reset link"})]}),Object(p.jsx)("div",{className:"d-grid gap-2",children:Object(p.jsx)("button",{className:"btn btn-warning",type:"button",onClick:c,style:{marginTop:"1rem"},children:"Send Password Reset Link"})})]}),Object(p.jsx)("div",{children:r?Object(p.jsx)("p",{className:"d-flex justify-content-center alert alert-danger",role:"alert",children:r}):null})]})};var O=function(){var e=Object(u.g)(),t=Object(a.useState)(""),r=Object(d.a)(t,2),s=r[0],n=r[1],c=Object(a.useRef)(),l=function(){var t=Object(o.a)(i.a.mark((function t(r){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n(""),r.preventDefault(),!c){t.next=14;break}if(""!==c.current.value){t.next=6;break}return n("Please enter a password!"),t.abrupt("return");case 6:return t.prev=6,t.next=9,j.a.patch("".concat("https://guvi-task-session-37.herokuapp.com/api/v1/auth/reset-password"),{email:e.email,password:c.current.value});case 9:t.next=14;break;case 11:t.prev=11,t.t0=t.catch(6),n("User does not exist...");case 14:case"end":return t.stop()}}),t,null,[[6,11]])})));return function(e){return t.apply(this,arguments)}}();return Object(p.jsxs)("div",{className:"container",style:{border:"1px solid lightgray",marginTop:"2rem",borderRadius:"1rem"},children:[Object(p.jsxs)("form",{className:"py-5",children:[Object(p.jsxs)("div",{className:"mb-3",children:[Object(p.jsxs)("label",{htmlFor:"password",className:"form-label fw-bold",children:['Enter new password for "',e.email,'"']}),Object(p.jsx)("input",{type:"text",className:"form-control",id:"password",ref:c,placeholder:"New password"})]}),Object(p.jsx)("div",{className:"d-grid gap-2",children:Object(p.jsx)("button",{className:"btn btn-success",type:"button",onClick:l,style:{marginTop:"1rem"},children:"Reset Password"})})]}),Object(p.jsx)("div",{children:s?Object(p.jsx)("p",{className:"d-flex justify-content-center alert alert-danger",role:"alert",children:s}):null})]})};var v=function(){return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("div",{children:Object(p.jsx)("nav",{className:"navbar navbar-dark bg-dark",style:{backgroundColor:"#e3f2fd"},children:Object(p.jsx)("div",{className:"container-fluid",children:Object(p.jsx)("span",{style:{margin:"0 auto",fontSize:"2rem"},className:"navbar-text",children:Object(p.jsx)("a",{href:"/",style:{textDecoration:"none"},children:"Forgot Password Task"})})})})}),Object(p.jsx)(m.a,{children:Object(p.jsxs)(u.c,{children:[Object(p.jsx)(u.a,{path:"/",element:Object(p.jsx)(x,{})}),Object(p.jsx)(u.a,{path:"/signup",element:Object(p.jsx)(f,{})}),Object(p.jsx)(u.a,{path:"/forgot-password",element:Object(p.jsx)(h,{})}),Object(p.jsx)(u.a,{path:"/reset-password/:email",element:Object(p.jsx)(O,{})})]})})]})},g=s.a.createContext(),y=function(e){var t=e.children,r=Object(a.useState)(!0),s=Object(d.a)(r,2),n=(s[0],s[1]);return Object(p.jsx)(g.Provider,{value:n,children:t})};c.a.render(Object(p.jsx)(s.a.StrictMode,{children:Object(p.jsx)(y,{children:Object(p.jsx)(v,{})})}),document.getElementById("root"))}},[[48,1,2]]]);
//# sourceMappingURL=main.ce226a08.chunk.js.map